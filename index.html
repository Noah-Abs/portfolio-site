<!DOCTYPE html>
<html>
<head>
  <title>My Portfolio</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --white:  #FFFFFF;
      --silver: #C0C8D8;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background: radial-gradient(ellipse at 50% 30%, #002580 0%, #000D3A 55%, #000510 100%);
      font-family: 'Inter', sans-serif;
      color: var(--white);
    }
    /* Pinstripe overlay */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 28px,
        rgba(255,255,255,0.025) 28px,
        rgba(255,255,255,0.025) 29px
      );
      pointer-events: none;
      z-index: 0;
    }

    /* Field glow at bottom */
    body::after {
      content: '';
      position: fixed;
      bottom: -80px; left: 50%;
      transform: translateX(-50%);
      width: 800px; height: 220px;
      background: radial-gradient(ellipse, rgba(0,80,30,0.25) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
    }

    .opening-day-bar {
      width: 100%;
      background:
        repeating-linear-gradient(90deg, transparent, transparent 28px, rgba(255,255,255,0.03) 28px, rgba(255,255,255,0.03) 29px),
        linear-gradient(90deg, #001E62 0%, #003DA5 50%, #001E62 100%);
      border-bottom: 3px solid rgba(255,255,255,0.4);
      padding: 1rem 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
      font-family: 'Inter', sans-serif;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .bar-logo {
      height: 52px;
      width: auto;
      filter: drop-shadow(0 0 8px rgba(0,61,165,0.8));
    }
    .bar-label {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 2rem;
      letter-spacing: 0.1em;
      color: #fff;
      white-space: nowrap;
    }
    .bar-countdown {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-family: 'Bebas Neue', sans-serif;
      font-size: 2.4rem;
      color: #fff;
      letter-spacing: 0.05em;
    }
    .bar-unit {
      display: flex;
      flex-direction: column;
      align-items: center;
      line-height: 1;
    }
    .bar-val {
      font-size: 2.4rem;
      min-width: 2ch;
      text-align: center;
    }
    .bar-lbl {
      font-family: 'Inter', sans-serif;
      font-size: 0.6rem;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.5);
      margin-top: 2px;
    }
    .bar-sep { color: rgba(255,255,255,0.3); font-size: 2rem; margin-bottom: 10px; }
    .bar-dot {
      width: 10px; height: 10px;
      background: #FFFFFF;
      border-radius: 50%;
      animation: bardot 1.8s ease infinite;
      flex-shrink: 0;
    }
    @keyframes bardot {
      0%,100% { opacity: 1; }
      50%      { opacity: 0.3; }
    }
    .bar-link {
      text-decoration: none;
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      font-weight: 600;
      color: rgba(255,255,255,0.45);
      letter-spacing: 0.08em;
      text-transform: uppercase;
      white-space: nowrap;
      transition: color 0.2s;
    }
    .bar-link:hover { color: rgba(255,255,255,0.85); }
    /* ── Stats Panel ──────────────────────────────────── */
    .stats-panel {
      position: relative;
      z-index: 1;
      width: 100%;
      padding: 1.5rem 2rem 1.75rem;
    }

    .stats-inner {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 1.1rem;
    }

    .stats-header {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.38);
    }
    .stats-divider { opacity: 0.3; }

    .team-stats {
      display: flex;
      gap: 0;
      align-items: flex-start;
    }
    .stat-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.3rem;
      padding: 0 0.5rem;
      border-right: 1px solid rgba(255,255,255,0.07);
    }
    .stat-item:first-child { padding-left: 0; }
    .stat-item:last-child  { border-right: none; }
    .stat-val {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.7rem;
      letter-spacing: 0.04em;
      color: #fff;
      line-height: 1;
    }
    .stat-lbl {
      font-size: 0.58rem;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.35);
      white-space: nowrap;
    }
    .stat-rank {
      font-size: 0.55rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.22);
      white-space: nowrap;
    }

    .performers-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding-top: 0.25rem;
      border-top: 1px solid rgba(255,255,255,0.07);
    }
    .performers-game {
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.6);
    }
    .performers-date {
      font-size: 0.62rem;
      letter-spacing: 0.1em;
      color: rgba(255,255,255,0.25);
    }

    .performers {
      display: flex;
      gap: 0;
      align-items: flex-start;
      flex-wrap: wrap;
    }
    .performer {
      display: flex;
      flex-direction: column;
      gap: 0.15rem;
      flex: 1;
      padding: 0 1rem;
      border-right: 1px solid rgba(255,255,255,0.07);
    }
    .performer:first-child { padding-left: 0; }
    .performer:last-child  { border-right: none; }
    .performer-role {
      font-size: 0.52rem;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.25);
    }
    .p-name {
      font-family: 'Inter', sans-serif;
      font-size: 0.82rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      color: #fff;
      white-space: nowrap;
    }
    .p-line {
      font-size: 0.68rem;
      font-weight: 400;
      letter-spacing: 0.04em;
      color: rgba(255,255,255,0.38);
    }
    /* ── Side Panel ─────────────────────────────────────── */
    .panel-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      z-index: 290;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.28s ease;
    }
    .panel-backdrop.open { opacity: 1; pointer-events: all; }

    .side-panel {
      position: fixed;
      right: 0;
      top: 0;
      height: 100dvh;
      width: 340px;
      background:
        repeating-linear-gradient(90deg, transparent, transparent 28px, rgba(255,255,255,0.018) 28px, rgba(255,255,255,0.018) 29px),
        linear-gradient(160deg, #001850 0%, #000C30 60%, #000510 100%);
      border-left: 1px solid rgba(255,255,255,0.1);
      z-index: 300;
      transform: translateX(100%);
      transition: transform 0.28s ease;
      display: flex;
      flex-direction: column;
    }
    .side-panel.open { transform: translateX(0); }

    .sp-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.9rem 1.25rem;
      border-bottom: 1px solid rgba(255,255,255,0.07);
      flex-shrink: 0;
    }
    .sp-title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.9rem;
      letter-spacing: 0.2em;
      color: rgba(255,255,255,0.4);
    }
    .sp-close {
      background: none;
      border: none;
      color: rgba(255,255,255,0.35);
      font-size: 1.1rem;
      cursor: pointer;
      line-height: 1;
      padding: 0.2rem;
      transition: color 0.15s;
    }
    .sp-close:hover { color: #fff; }

    .sp-tabs {
      display: flex;
      border-bottom: 1px solid rgba(255,255,255,0.07);
      padding: 0 1.25rem;
      flex-shrink: 0;
    }
    .sp-tab {
      background: none;
      border: none;
      border-bottom: 2px solid transparent;
      padding: 0.6rem 0.8rem;
      margin-bottom: -1px;
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.9rem;
      letter-spacing: 0.1em;
      color: rgba(255,255,255,0.3);
      cursor: pointer;
      transition: color 0.15s, border-color 0.15s;
    }
    .sp-tab:first-child { padding-left: 0; }
    .sp-tab:hover { color: rgba(255,255,255,0.7); }
    .sp-tab.active { color: #fff; border-bottom-color: rgba(255,255,255,0.6); }

    .sp-body {
      flex: 1;
      overflow-y: auto;
      padding: 0.5rem 1.25rem 2rem;
    }
    .sp-panel { display: none; }
    .sp-panel.active { display: block; }

    /* Schedule rows inside side panel */
    .schedule-list { display: flex; flex-direction: column; }
    .schedule-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.6rem 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .schedule-row:last-child { border-bottom: none; }
    .sr-date {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      min-width: 44px;
      flex-shrink: 0;
    }
    .sr-day {
      font-size: 0.5rem;
      font-weight: 700;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.3);
    }
    .sr-monthday {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.95rem;
      letter-spacing: 0.04em;
      color: rgba(255,255,255,0.75);
      line-height: 1.1;
    }
    .sr-logo { height: 24px; width: auto; flex-shrink: 0; }
    .sr-opponent {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .sr-opp-info { display: flex; align-items: baseline; gap: 0.3rem; }
    .sr-at-vs {
      font-size: 0.5rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.3);
    }
    .sr-name { font-size: 0.78rem; font-weight: 600; color: #fff; }
    .sr-time {
      font-size: 0.65rem;
      color: rgba(255,255,255,0.38);
      flex-shrink: 0;
      white-space: nowrap;
    }
    .roster-placeholder {
      padding: 3rem 0;
      text-align: center;
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.15);
    }
    .roster-group { margin-top: 0.75rem; }
    .roster-group:first-child { margin-top: 0.25rem; }
    .roster-group-title {
      font-size: 0.5rem;
      font-weight: 700;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.22);
      padding: 0.5rem 0 0.3rem;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .roster-row {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      padding: 0.38rem 0;
      border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    .roster-row:last-child { border-bottom: none; }
    .roster-num {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 0.85rem;
      color: rgba(255,255,255,0.35);
      min-width: 20px;
      text-align: right;
      flex-shrink: 0;
    }
    .roster-name { font-size: 0.75rem; font-weight: 600; color: #fff; flex: 1; }
    .roster-pos {
      font-size: 0.55rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      color: rgba(255,255,255,0.28);
      flex-shrink: 0;
    }

    /* ── Player Detail View ─────────────────────────────── */
    .pd-view {
      display: none;
      flex-direction: column;
      flex: 1;
      overflow: hidden;
    }
    .pd-view.active { display: flex; }
    .pd-header-info {
      padding: 1rem 1.25rem;
      border-bottom: 1px solid rgba(255,255,255,0.07);
      flex-shrink: 0;
    }
    .pd-player-meta { display: flex; align-items: center; gap: 0.75rem; }
    .pd-jersey {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 2.6rem;
      color: rgba(255,255,255,0.1);
      line-height: 1;
      flex-shrink: 0;
      min-width: 2.5ch;
      text-align: right;
    }
    .pd-fullname {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.3rem;
      letter-spacing: 0.05em;
      color: #fff;
      line-height: 1.1;
    }
    .pd-pos-label {
      font-size: 0.57rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.28);
      margin-top: 0.1rem;
    }
    .pd-body { flex: 1; overflow-y: auto; padding: 0.75rem 1.25rem 2rem; }
    .pd-section { margin-bottom: 1.25rem; }
    .pd-section-title {
      font-size: 0.5rem;
      font-weight: 700;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.22);
      padding-bottom: 0.35rem;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      margin-bottom: 0.65rem;
    }
    .pd-stat-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.25rem;
    }
    .pd-stat {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0.45rem 0.1rem;
      gap: 0.15rem;
    }
    .pd-stat-val {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.1rem;
      letter-spacing: 0.02em;
      color: #fff;
      line-height: 1;
    }
    .pd-stat-lbl {
      font-size: 0.46rem;
      font-weight: 700;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.28);
    }
    .pd-loading {
      padding: 2.5rem 0;
      text-align: center;
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.18);
    }
    .pd-back {
      background: none;
      border: none;
      color: rgba(255,255,255,0.4);
      font-size: 0.72rem;
      font-weight: 600;
      letter-spacing: 0.06em;
      cursor: pointer;
      padding: 0;
      transition: color 0.15s;
    }
    .pd-back:hover { color: #fff; }
    .roster-row { cursor: pointer; transition: opacity 0.15s; }
    .roster-row:hover { opacity: 0.72; }
    .roster-chevron {
      color: rgba(255,255,255,0.2);
      font-size: 0.9rem;
      flex-shrink: 0;
    }

    /* ── Settings Button & Team Dropdown ────────────────── */
    .bar-actions {
      position: absolute;
      right: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .settings-btn {
      background: none;
      border: 1px solid rgba(255,255,255,0.15);
      border-radius: 5px;
      color: rgba(255,255,255,0.5);
      font-size: 1rem;
      cursor: pointer;
      padding: 0.3rem 0.55rem;
      line-height: 1;
      transition: color 0.2s, border-color 0.2s;
    }
    .settings-btn:hover { color: #fff; border-color: rgba(255,255,255,0.4); }

    .team-dropdown {
      position: absolute;
      right: 1.5rem;
      top: calc(100% + 6px);
      background: rgba(5,7,20,0.97);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 8px;
      overflow: hidden;
      min-width: 210px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      display: none;
      z-index: 200;
    }
    .team-dropdown.open { display: block; }
    .team-dropdown-label {
      padding: 0.55rem 1rem 0.4rem;
      font-size: 0.55rem;
      font-weight: 700;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.25);
      border-bottom: 1px solid rgba(255,255,255,0.07);
    }
    .team-dropdown-item {
      display: flex;
      align-items: center;
      gap: 0.65rem;
      padding: 0.65rem 1rem;
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
      font-size: 0.8rem;
      font-weight: 600;
      color: rgba(255,255,255,0.65);
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    .team-dropdown-item:last-child { border-bottom: none; }
    .team-dropdown-item img { height: 24px; width: auto; }
    .team-dropdown-item:hover { background: rgba(255,255,255,0.07); color: #fff; }
    .team-dropdown-item.active { background: rgba(255,255,255,0.05); color: #fff; }

    /* ── Tablet ─────────────────────────── */
    @media (max-width: 680px) {
      .stats-header span:last-child { display: none; }
      .team-stats { flex-wrap: wrap; }
      .stat-item  { min-width: 25%; flex: unset; border-right: none; padding: 0 0.25rem; }
      .performer  { min-width: 45%; }
    }

    /* ── Large phone ─────────────────────── */
    @media (max-width: 560px) {
      .bar-label { display: none; }
      .bar-link  { display: none; }
      .opening-day-bar { gap: 1rem; padding: 0.75rem 1rem; }
      .bar-logo  { height: 38px; }
      .bar-val   { font-size: 1.75rem; }
      .bar-sep   { font-size: 1.5rem; }
      .bar-lbl   { font-size: 0.5rem; }
      .bar-dot   { width: 7px; height: 7px; }

      .stats-panel { padding: 1rem 1rem 1.25rem; }
      .stat-item  { min-width: 33%; }
      .stat-val   { font-size: 1.35rem; }
      .stats-header { flex-wrap: wrap; gap: 0.3rem 0.5rem; }

    }

    /* ── Small phone ─────────────────────── */
    @media (max-width: 390px) {
      .opening-day-bar { gap: 0.6rem; padding: 0.6rem 0.75rem; }
      .bar-logo  { height: 30px; }
      .bar-val   { font-size: 1.4rem; }
      .bar-lbl   { display: none; }
      .bar-sep   { font-size: 1.2rem; margin-bottom: 0; }
      .bar-countdown { gap: 0.35rem; }

      .stat-item  { min-width: 33%; }
      .stat-val   { font-size: 1.2rem; }
      .p-name     { white-space: normal; }
    }
  </style>
</head>
<body data-team="dodgers">

  <!-- Opening Day countdown bar -->
  <div class="opening-day-bar" style="position:relative;">
    <img class="bar-logo" id="bar-logo"
      src="https://www.mlbstatic.com/team-logos/team-cap-on-dark/119.svg"
      alt="Dodgers" />
    <span class="bar-label">Opening Day 2026</span>
    <span class="bar-dot"></span>
    <div class="bar-countdown" id="bar-countdown">
      <div class="bar-unit"><span class="bar-val" id="b-days">--</span><span class="bar-lbl">Days</span></div>
      <span class="bar-sep">:</span>
      <div class="bar-unit"><span class="bar-val" id="b-hours">--</span><span class="bar-lbl">Hrs</span></div>
      <span class="bar-sep">:</span>
      <div class="bar-unit"><span class="bar-val" id="b-mins">--</span><span class="bar-lbl">Min</span></div>
      <span class="bar-sep">:</span>
      <div class="bar-unit"><span class="bar-val" id="b-secs">--</span><span class="bar-lbl">Sec</span></div>
    </div>
    <a href="/countdown-timer" class="bar-link">Full Page ↗</a>
    <div class="bar-actions">
      <button class="settings-btn" onclick="togglePanel()" title="Schedule & Roster">≡</button>
      <button class="settings-btn" onclick="toggleSettings()" title="Change Team">⚙</button>
    </div>
    <div class="team-dropdown" id="team-dropdown">
      <div class="team-dropdown-label">Select Team</div>
      <div class="team-dropdown-item active" data-team="dodgers" onclick="switchTeam('dodgers')">
        <img src="https://www.mlbstatic.com/team-logos/team-cap-on-dark/119.svg" alt="LAD">
        Los Angeles Dodgers
      </div>
    </div>
  </div>

  <!-- Team Stats Panel -->
  <section class="stats-panel">
    <div class="stats-inner">

      <div class="stats-header">
        <span class="stats-season">2025 Season</span>
        <span class="stats-divider">·</span>
        <span class="stats-division">NL West</span>
      </div>

      <div class="team-stats">
        <div class="stat-item">
          <span class="stat-val">100-62</span>
          <span class="stat-lbl">Record</span>
          <span class="stat-rank">#2 NL West</span>
        </div>
        <div class="stat-item">
          <span class="stat-val">.617</span>
          <span class="stat-lbl">Win %</span>
          <span class="stat-rank">#2 NL West</span>
        </div>
        <div class="stat-item">
          <span class="stat-val">.263</span>
          <span class="stat-lbl">Team AVG</span>
          <span class="stat-rank">#3 NL</span>
        </div>
        <div class="stat-item">
          <span class="stat-val">1,418</span>
          <span class="stat-lbl">Hits</span>
        </div>
        <div class="stat-item">
          <span class="stat-val">221</span>
          <span class="stat-lbl">Home Runs</span>
          <span class="stat-rank">#2 NL</span>
        </div>
        <div class="stat-item">
          <span class="stat-val">3.61</span>
          <span class="stat-lbl">Team ERA</span>
          <span class="stat-rank">#4 NL</span>
        </div>
        <div class="stat-item">
          <span class="stat-val">1,344</span>
          <span class="stat-lbl">Strikeouts</span>
        </div>
      </div>

      <div class="performers-header">
        <span class="performers-game">Last Game &nbsp;·&nbsp; LAD 8, SD 3</span>
        <span class="performers-date">Sep 28, 2025</span>
      </div>

      <div class="performers">
        <div class="performer">
          <span class="performer-role">Batter</span>
          <span class="p-name">Shohei Ohtani</span>
          <span class="p-line">3-4 · HR · 3 RBI</span>
        </div>
        <div class="performer">
          <span class="performer-role">Batter</span>
          <span class="p-name">Freddie Freeman</span>
          <span class="p-line">2-3 · 2B · 2 RBI</span>
        </div>
        <div class="performer">
          <span class="performer-role">Batter</span>
          <span class="p-name">Mookie Betts</span>
          <span class="p-line">2-4 · HR · BB</span>
        </div>
        <div class="performer">
          <span class="performer-role">Pitcher</span>
          <span class="p-name">Y. Yamamoto</span>
          <span class="p-line">7.0 IP · 1 ER · 10 K · W</span>
        </div>
      </div>

    </div>
  </section>


  <!-- Side panel backdrop -->
  <div class="panel-backdrop" id="panel-backdrop" onclick="closePanel()"></div>

  <!-- Side panel -->
  <div class="side-panel" id="side-panel">
    <div class="sp-header" id="sp-header">
      <span class="sp-title" id="sp-title">Dodgers</span>
      <button class="sp-close" onclick="closePanel()">✕</button>
    </div>
    <div class="sp-tabs" id="sp-tabs">
      <button class="sp-tab active" onclick="switchSideTab('schedule')">Schedule</button>
      <button class="sp-tab" onclick="switchSideTab('roster')">40-Man Roster</button>
    </div>
    <div class="sp-body" id="sp-body">
      <div class="sp-panel active" id="sp-schedule">
        <div class="schedule-list" id="schedule-list"></div>
      </div>
      <div class="sp-panel" id="sp-roster">
        <div class="roster-placeholder">Roster Coming Soon</div>
      </div>
    </div>
    <!-- Player detail drill-down -->
    <div class="pd-view" id="pd-view">
      <div class="pd-header-info" id="pd-header-info"></div>
      <div class="pd-body" id="pd-body">
        <div class="pd-loading">Loading…</div>
      </div>
    </div>
  </div>

  <script>
    /* ── Team data ──────────────────────────────────────── */
    const TEAMS = {
      dodgers: {
        name: 'Los Angeles Dodgers',
        logoSrc: 'https://www.mlbstatic.com/team-logos/team-cap-on-dark/119.svg',
        logoAlt: 'Dodgers',
        openingDay: '2026-03-26T13:05:00',
        season: '2025 Season',
        division: 'NL West',
        stats: [
          { val: '100-62', lbl: 'Record',     rank: '#2 NL West' },
          { val: '.617',   lbl: 'Win %',      rank: '#2 NL West' },
          { val: '.263',   lbl: 'Team AVG',   rank: '#3 NL' },
          { val: '1,418',  lbl: 'Hits' },
          { val: '221',    lbl: 'Home Runs',  rank: '#2 NL' },
          { val: '3.61',   lbl: 'Team ERA',   rank: '#4 NL' },
          { val: '1,344',  lbl: 'Strikeouts' },
        ],
        lastGame: 'LAD 8, SD 3',
        lastGameDate: 'Sep 28, 2025',
        performers: [
          { role: 'Batter',  name: 'Shohei Ohtani',   line: '3-4 · HR · 3 RBI' },
          { role: 'Batter',  name: 'Freddie Freeman',  line: '2-3 · 2B · 2 RBI' },
          { role: 'Batter',  name: 'Mookie Betts',     line: '2-4 · HR · BB' },
          { role: 'Pitcher', name: 'Y. Yamamoto',      line: '7.0 IP · 1 ER · 10 K · W' },
        ],
        nextGame: {
          atVs: 'vs',
          opponent: 'Chicago Cubs',
          opponentShort: 'Cubs',
          logoId: 112,
          date: 'Thu, Mar 26',
          dateShort: 'Mar 26',
          time: '1:05 PM PT',
          tv: 'SportsNet LA',
          venue: 'Dodger Stadium',
          tag: 'Opening Day',
        },
        schedule: [
          { day: 'Thu', monthDay: 'Mar 26', atVs: 'vs', opponent: 'Chicago Cubs', logoId: 112, venue: 'Home', time: '1:05 PM PT',  tv: 'SNY' },
          { day: 'Fri', monthDay: 'Mar 27', atVs: 'vs', opponent: 'Chicago Cubs', logoId: 112, venue: 'Home', time: '7:10 PM PT',  tv: 'SNY' },
          { day: 'Sat', monthDay: 'Mar 28', atVs: 'vs', opponent: 'Chicago Cubs', logoId: 112, venue: 'Home', time: '6:10 PM PT',  tv: 'FS1' },
          { day: 'Mon', monthDay: 'Mar 30', atVs: '@',  opponent: 'San Diego Padres', logoId: 135, venue: 'Away', time: '7:40 PM PT', tv: 'SNY' },
          { day: 'Tue', monthDay: 'Mar 31', atVs: '@',  opponent: 'San Diego Padres', logoId: 135, venue: 'Away', time: '7:40 PM PT', tv: 'SNY' },
          { day: 'Wed', monthDay: 'Apr 1',  atVs: '@',  opponent: 'San Diego Padres', logoId: 135, venue: 'Away', time: '3:40 PM PT', tv: '' },
          { day: 'Fri', monthDay: 'Apr 3',  atVs: 'vs', opponent: 'SF Giants',     logoId: 137, venue: 'Home', time: '7:10 PM PT',  tv: 'SNY' },
          { day: 'Sat', monthDay: 'Apr 4',  atVs: 'vs', opponent: 'SF Giants',     logoId: 137, venue: 'Home', time: '6:10 PM PT',  tv: 'FS1' },
          { day: 'Sun', monthDay: 'Apr 5',  atVs: 'vs', opponent: 'SF Giants',     logoId: 137, venue: 'Home', time: '1:10 PM PT',  tv: '' },
          { day: 'Tue', monthDay: 'Apr 7',  atVs: '@',  opponent: 'Arizona D-backs', logoId: 109, venue: 'Away', time: '6:40 PM PT', tv: 'SNY' },
          { day: 'Wed', monthDay: 'Apr 8',  atVs: '@',  opponent: 'Arizona D-backs', logoId: 109, venue: 'Away', time: '6:40 PM PT', tv: '' },
          { day: 'Thu', monthDay: 'Apr 9',  atVs: '@',  opponent: 'Arizona D-backs', logoId: 109, venue: 'Away', time: '12:40 PM PT', tv: '' },
        ],
      },
    }

    /* ── Countdown bar ──────────────────────────────────── */
    let barTarget = new Date(TEAMS.dodgers.openingDay).getTime()
    const bDays  = document.getElementById('b-days')
    const bHours = document.getElementById('b-hours')
    const bMins  = document.getElementById('b-mins')
    const bSecs  = document.getElementById('b-secs')
    function pad(n) { return String(n).padStart(2,'0') }
    function barTick() {
      const diff = barTarget - Date.now()
      if (diff <= 0) { document.getElementById('bar-countdown').textContent = '⚾ Play Ball!'; return }
      bDays.textContent  = pad(Math.floor(diff / 86400000))
      bHours.textContent = pad(Math.floor((diff % 86400000) / 3600000))
      bMins.textContent  = pad(Math.floor((diff % 3600000) / 60000))
      bSecs.textContent  = pad(Math.floor((diff % 60000) / 1000))
    }
    barTick()
    setInterval(barTick, 1000)

    /* ── Team rendering ─────────────────────────────────── */
    function renderTeam(key) {
      const t = TEAMS[key]
      document.body.dataset.team = key
      localStorage.setItem('selectedTeam', key)

      // Bar logo + countdown target
      const logo = document.getElementById('bar-logo')
      logo.src = t.logoSrc
      logo.alt = t.logoAlt
      barTarget = new Date(t.openingDay).getTime()

      // Header
      document.querySelector('.stats-season').textContent  = t.season
      document.querySelector('.stats-division').textContent = t.division

      // Team stats
      document.querySelector('.team-stats').innerHTML = t.stats.map(s => `
        <div class="stat-item">
          <span class="stat-val">${s.val}</span>
          <span class="stat-lbl">${s.lbl}</span>
          ${s.rank ? `<span class="stat-rank">${s.rank}</span>` : ''}
        </div>`).join('')

      // Last game
      document.querySelector('.performers-game').innerHTML = `Last Game &nbsp;·&nbsp; ${t.lastGame}`
      document.querySelector('.performers-date').textContent = t.lastGameDate

      // Performers
      document.querySelector('.performers').innerHTML = t.performers.map(p => `
        <div class="performer">
          <span class="performer-role">${p.role}</span>
          <span class="p-name">${p.name}</span>
          <span class="p-line">${p.line}</span>
        </div>`).join('')

      // Side panel title
      document.querySelector('.sp-title').textContent = t.name

      // Schedule
      renderSchedule(t.schedule)

      // Dropdown active state
      document.querySelectorAll('.team-dropdown-item').forEach(el => {
        el.classList.toggle('active', el.dataset.team === key)
      })
    }

    /* ── Schedule renderer ──────────────────────────────── */
    function renderSchedule(games) {
      const list = document.getElementById('schedule-list')
      list.innerHTML = games.map(g => `
        <div class="schedule-row">
          <div class="sr-date">
            <span class="sr-day">${g.day}</span>
            <span class="sr-monthday">${g.monthDay}</span>
          </div>
          <div class="sr-opponent">
            <img class="sr-logo" src="https://www.mlbstatic.com/team-logos/team-cap-on-dark/${g.logoId}.svg" alt="${g.opponent}">
            <div class="sr-opp-info">
              <span class="sr-at-vs">${g.atVs}</span>
              <span class="sr-name">${g.opponent}</span>
            </div>
          </div>
          <span class="sr-time">${g.time}</span>
        </div>`).join('')
    }

    /* ── Side panel ─────────────────────────────────────── */
    function togglePanel() {
      document.getElementById('side-panel').classList.toggle('open')
      document.getElementById('panel-backdrop').classList.toggle('open')
    }
    function closePanel() {
      closePlayer()
      document.getElementById('side-panel').classList.remove('open')
      document.getElementById('panel-backdrop').classList.remove('open')
    }
    let rosterLoaded = false
    function switchSideTab(id) {
      document.querySelectorAll('.sp-tab').forEach((btn, i) => {
        btn.classList.toggle('active', ['schedule','roster'][i] === id)
      })
      document.querySelectorAll('.sp-panel').forEach(p => {
        p.classList.toggle('active', p.id === `sp-${id}`)
      })
      if (id === 'roster' && !rosterLoaded) { rosterLoaded = true; loadRoster() }
    }

    /* ── 40-Man Roster ──────────────────────────────────── */
    async function loadRoster() {
      const el = document.getElementById('sp-roster')
      el.innerHTML = '<div class="roster-placeholder">Loading…</div>'
      try {
        const res = await fetch('https://statsapi.mlb.com/api/v1/teams/119/roster?rosterType=40Man&season=2026')
        const data = await res.json()
        renderRoster(data.roster ?? [])
      } catch (e) {
        el.innerHTML = '<div class="roster-placeholder">Could not load roster</div>'
      }
    }

    function renderRoster(roster) {
      const ORDER = ['Two-Way Player','Pitcher','Catcher','Infielder','Outfielder','Hitter']
      const LABELS = {
        'Two-Way Player': 'Two-Way Players',
        'Pitcher':        'Pitchers',
        'Catcher':        'Catchers',
        'Infielder':      'Infielders',
        'Outfielder':     'Outfielders',
        'Hitter':         'Designated Hitters',
      }
      const groups = {}
      ORDER.forEach(k => groups[k] = [])
      for (const p of roster) {
        const t = p.position?.type ?? 'Hitter'
        ;(groups[t] ?? groups['Hitter']).push(p)
      }
      document.getElementById('sp-roster').innerHTML = ORDER
        .filter(k => groups[k].length > 0)
        .map(k => `
          <div class="roster-group">
            <div class="roster-group-title">${LABELS[k]}</div>
            ${groups[k].map(p => `
              <div class="roster-row" onclick="openPlayer(${p.person.id},'${(p.position?.type||'').replace(/'/g,"\\'")}','${p.jerseyNumber||''}','${p.person.fullName.replace(/'/g,"\\'")}','${p.position.abbreviation}')">
                <span class="roster-num">${p.jerseyNumber || '–'}</span>
                <span class="roster-name">${p.person.fullName}</span>
                <span class="roster-pos">${p.position.abbreviation}</span>
                <span class="roster-chevron">›</span>
              </div>`).join('')}
          </div>`).join('')
    }

    /* ── Player detail ──────────────────────────────────── */
    function openPlayer(id, posType, jersey, name, posAbbr) {
      // swap header to show back button
      document.getElementById('sp-title').innerHTML =
        `<button class="pd-back" onclick="closePlayer()">← Back</button>`
      // hide list views, show detail
      document.getElementById('sp-tabs').style.display = 'none'
      document.getElementById('sp-body').style.display = 'none'
      const pdView = document.getElementById('pd-view')
      pdView.classList.add('active')
      // player header
      document.getElementById('pd-header-info').innerHTML = `
        <div class="pd-player-meta">
          <span class="pd-jersey">${jersey || '#'}</span>
          <div>
            <div class="pd-fullname">${name}</div>
            <div class="pd-pos-label">${posAbbr} · Los Angeles Dodgers</div>
          </div>
        </div>`
      document.getElementById('pd-body').innerHTML = '<div class="pd-loading">Loading…</div>'
      fetchPlayerStats(id, posType)
    }

    function closePlayer() {
      const pdView = document.getElementById('pd-view')
      if (!pdView.classList.contains('active')) return
      pdView.classList.remove('active')
      document.getElementById('sp-tabs').style.display = ''
      document.getElementById('sp-body').style.display = ''
      const teamKey = document.body.dataset.team || 'dodgers'
      document.getElementById('sp-title').textContent = TEAMS[teamKey]?.name ?? 'Dodgers'
    }

    async function fetchPlayerStats(playerId, posType) {
      try {
        const res = await fetch(
          `https://statsapi.mlb.com/api/v1/people/${playerId}?hydrate=stats(group=[hitting,pitching],type=[season,career],season=2025)`
        )
        const { people } = await res.json()
        const stats = people[0]?.stats ?? []
        const get = (group, type) =>
          stats.find(s => s.group.displayName === group && s.type.displayName === type)?.splits?.[0]?.stat ?? null

        const isPit = posType === 'Pitcher'
        const isTW  = posType === 'Two-Way Player'
        let html = ''

        if (!isPit) {
          const sh = get('hitting','season'), ch = get('hitting','career')
          if (sh) html += statSection('2025 Season · Batting', hitGrid(sh))
          if (ch)  html += statSection('Career · Batting',     hitGrid(ch))
        }
        if (isPit || isTW) {
          const sp = get('pitching','season'), cp = get('pitching','career')
          if (sp) html += statSection('2025 Season · Pitching', pitGrid(sp))
          if (cp)  html += statSection('Career · Pitching',     pitGrid(cp))
        }

        document.getElementById('pd-body').innerHTML =
          html || '<div class="pd-loading">No stats available</div>'
      } catch (e) {
        document.getElementById('pd-body').innerHTML =
          '<div class="pd-loading">Could not load stats</div>'
      }
    }

    function statSection(title, gridHtml) {
      return `<div class="pd-section">
        <div class="pd-section-title">${title}</div>
        <div class="pd-stat-grid">${gridHtml}</div>
      </div>`
    }
    function pdStat(val, lbl) {
      return `<div class="pd-stat"><span class="pd-stat-val">${val ?? '–'}</span><span class="pd-stat-lbl">${lbl}</span></div>`
    }
    function hitGrid(s) {
      return [
        pdStat(s.gamesPlayed, 'G'),   pdStat(s.atBats, 'AB'),
        pdStat(s.hits, 'H'),          pdStat(s.homeRuns, 'HR'),
        pdStat(s.rbi, 'RBI'),         pdStat(s.stolenBases, 'SB'),
        pdStat(s.baseOnBalls, 'BB'),  pdStat(s.strikeOuts, 'K'),
        pdStat(s.avg, 'AVG'),         pdStat(s.obp, 'OBP'),
        pdStat(s.slg, 'SLG'),         pdStat(s.ops, 'OPS'),
      ].join('')
    }
    function pitGrid(s) {
      return [
        pdStat(s.gamesPlayed, 'G'),         pdStat(s.gamesStarted, 'GS'),
        pdStat(`${s.wins??0}-${s.losses??0}`, 'W-L'), pdStat(s.era, 'ERA'),
        pdStat(s.inningsPitched, 'IP'),     pdStat(s.strikeOuts, 'K'),
        pdStat(s.baseOnBalls, 'BB'),        pdStat(s.hits, 'H'),
        pdStat(s.homeRuns, 'HR'),           pdStat(s.whip, 'WHIP'),
        pdStat(s.strikeoutsPer9Inn, 'K/9'), pdStat(s.walksPer9Inn, 'BB/9'),
      ].join('')
    }

    /* ── Settings dropdown ──────────────────────────────── */
    function toggleSettings() {
      document.getElementById('team-dropdown').classList.toggle('open')
    }
    function switchTeam(key) {
      renderTeam(key)
      document.getElementById('team-dropdown').classList.remove('open')
    }

    // Close dropdown when clicking outside
    document.addEventListener('click', e => {
      if (!e.target.closest('.team-dropdown') && !e.target.closest('.settings-btn')) {
        document.getElementById('team-dropdown').classList.remove('open')
      }
    })

    // Restore saved team on load (always render to populate all dynamic elements)
    const saved = localStorage.getItem('selectedTeam')
    renderTeam(saved && TEAMS[saved] ? saved : 'dodgers')
    loadLiveData()

    /* ── Live data from MLB Stats API ───────────────────────── */
    async function loadLiveData() {
      const NL = new Set([109,144,112,113,115,119,146,121,143,134,135,137,138,120,158])
      const TEAM = 119 // Dodgers

      function nlRank(splits, key, asc = false) {
        const nl = splits.filter(s => NL.has(s.team.id))
        const sorted = [...nl].sort((a, b) =>
          asc ? parseFloat(a.stat[key]) - parseFloat(b.stat[key])
              : parseFloat(b.stat[key]) - parseFloat(a.stat[key])
        )
        const i = sorted.findIndex(s => s.team.id === TEAM)
        return i >= 0 ? `#${i + 1} NL` : ''
      }

      /* ── 2025 season stats ── */
      try {
        const [standRes, batRes, pitRes] = await Promise.all([
          fetch('https://statsapi.mlb.com/api/v1/standings?leagueId=104&season=2025&standingsTypes=regularSeason'),
          fetch('https://statsapi.mlb.com/api/v1/teams/stats?stats=season&group=hitting&season=2025&sportId=1'),
          fetch('https://statsapi.mlb.com/api/v1/teams/stats?stats=season&group=pitching&season=2025&sportId=1'),
        ])
        const [stand, bat, pit] = await Promise.all([standRes.json(), batRes.json(), pitRes.json()])

        let rec = null
        for (const div of stand.records) {
          rec = div.teamRecords.find(r => r.team.id === TEAM)
          if (rec) break
        }

        const batSplits = bat.stats[0].splits
        const pitSplits = pit.stats[0].splits
        const db = batSplits.find(s => s.team.id === TEAM)?.stat
        const dp = pitSplits.find(s => s.team.id === TEAM)?.stat

        if (rec && db && dp) {
          const divRank = `#${rec.divisionRank} NL West`
          const pct = parseFloat(rec.winningPercentage).toFixed(3).replace('0.', '.')
          TEAMS.dodgers.stats = [
            { val: `${rec.wins}-${rec.losses}`,                  lbl: 'Record',     rank: divRank },
            { val: pct,                                           lbl: 'Win %',      rank: divRank },
            { val: db.avg,                                        lbl: 'Team AVG',   rank: nlRank(batSplits, 'avg') },
            { val: parseInt(db.hits).toLocaleString(),            lbl: 'Hits' },
            { val: db.homeRuns,                                   lbl: 'Home Runs',  rank: nlRank(batSplits, 'homeRuns') },
            { val: dp.era,                                        lbl: 'Team ERA',   rank: nlRank(pitSplits, 'era', true) },
            { val: parseInt(dp.strikeOuts).toLocaleString(),      lbl: 'Strikeouts' },
          ]
          document.querySelector('.team-stats').innerHTML = TEAMS.dodgers.stats.map(s => `
            <div class="stat-item">
              <span class="stat-val">${s.val}</span>
              <span class="stat-lbl">${s.lbl}</span>
              ${s.rank ? `<span class="stat-rank">${s.rank}</span>` : ''}
            </div>`).join('')
        }
      } catch (e) { console.warn('Stats fetch failed', e) }

      /* ── 2026 schedule ── */
      try {
        const res = await fetch('https://statsapi.mlb.com/api/v1/schedule?teamId=119&season=2026&sportId=1&gameType=R')
        const data = await res.json()
        if (data.dates?.length) {
          const games = []
          for (const d of data.dates) {
            for (const g of d.games) {
              const isHome = g.teams.home.team.id === TEAM
              const opp = isHome ? g.teams.away.team : g.teams.home.team
              const dt = new Date(g.gameDate)
              games.push({
                day:      dt.toLocaleDateString('en-US', { weekday: 'short', timeZone: 'America/Los_Angeles' }),
                monthDay: dt.toLocaleDateString('en-US', { month: 'short', day: 'numeric', timeZone: 'America/Los_Angeles' }),
                atVs:     isHome ? 'vs' : '@',
                opponent: opp.name,
                logoId:   opp.id,
                venue:    isHome ? 'Home' : 'Away',
                time:     dt.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', timeZone: 'America/Los_Angeles' }) + ' PT',
                tv:       '',
              })
              if (games.length >= 25) break
            }
            if (games.length >= 25) break
          }
          if (games.length) { TEAMS.dodgers.schedule = games; renderSchedule(games) }
        }
      } catch (e) { console.warn('Schedule fetch failed', e) }

      /* ── Last game performers ── */
      try {
        const lsRes = await fetch('https://statsapi.mlb.com/api/v1/schedule?teamId=119&season=2025&sportId=1&gameType=R,F,D,L,W&startDate=2025-09-20&endDate=2025-11-10')
        const lsData = await lsRes.json()

        let lastGame = null
        for (const d of [...(lsData.dates ?? [])].reverse()) {
          const fin = d.games.filter(g => g.status.abstractGameState === 'Final')
          if (fin.length) { lastGame = fin[fin.length - 1]; break }
        }
        if (!lastGame) return

        const bsRes = await fetch(`https://statsapi.mlb.com/api/v1/game/${lastGame.gamePk}/boxscore`)
        const bs = await bsRes.json()

        const isHome  = lastGame.teams.home.team.id === TEAM
        const mySide  = isHome ? 'home' : 'away'
        const oppSide = isHome ? 'away' : 'home'
        const oppAbbr = lastGame.teams[oppSide].team.abbreviation ?? lastGame.teams[oppSide].team.name.split(' ').pop()
        const myScore = lastGame.teams[mySide].score
        const oppScore= lastGame.teams[oppSide].score
        const players = bs.teams[mySide].players

        const batters = Object.values(players)
          .filter(p => (p.stats?.batting?.atBats ?? 0) > 0)
          .sort((a, b) => {
            const hd = (b.stats.batting.hits ?? 0) - (a.stats.batting.hits ?? 0)
            return hd !== 0 ? hd : (b.stats.batting.rbi ?? 0) - (a.stats.batting.rbi ?? 0)
          })

        const wp = Object.values(players).find(p => (p.stats?.pitching?.wins ?? 0) > 0)
        const performers = []

        for (const p of batters.slice(0, 3)) {
          const s = p.stats.batting
          const parts = [`${s.hits}-${s.atBats}`]
          if (s.homeRuns > 0) parts.push('HR')
          else if (s.doubles > 0) parts.push('2B')
          if (s.rbi > 0) parts.push(`${s.rbi} RBI`)
          if (s.baseOnBalls > 0 && parts.length < 4) parts.push('BB')
          performers.push({ role: 'Batter', name: p.person.fullName, line: parts.join(' · ') })
        }
        if (wp) {
          const s = wp.stats.pitching
          performers.push({ role: 'Pitcher', name: wp.person.fullName,
            line: `${s.inningsPitched} IP · ${s.earnedRuns} ER · ${s.strikeOuts} K · W` })
        }

        if (performers.length) {
          const gd = new Date(lastGame.gameDate)
          const mo = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']
          TEAMS.dodgers.lastGame     = `LAD ${myScore}, ${oppAbbr} ${oppScore}`
          TEAMS.dodgers.lastGameDate = `${mo[gd.getMonth()]} ${gd.getDate()}, 2025`
          TEAMS.dodgers.performers   = performers
          document.querySelector('.performers-game').innerHTML = `Last Game &nbsp;·&nbsp; ${TEAMS.dodgers.lastGame}`
          document.querySelector('.performers-date').textContent = TEAMS.dodgers.lastGameDate
          document.querySelector('.performers').innerHTML = performers.map(p => `
            <div class="performer">
              <span class="performer-role">${p.role}</span>
              <span class="p-name">${p.name}</span>
              <span class="p-line">${p.line}</span>
            </div>`).join('')
        }
      } catch (e) { console.warn('Last game fetch failed', e) }
    }
  </script>
  <script src="script.js"></script>
</body>
</html>