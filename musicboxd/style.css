/* ═══════════════════════════════════════════
   MUSICBOXD — Letterboxd-inspired dark theme
   ═══════════════════════════════════════════ */

:root {
  --bg:            #14181C;
  --bg-secondary:  #1B2028;
  --bg-card:       rgba(255,255,255,0.04);
  --bg-card-hover: rgba(255,255,255,0.07);
  --bg-input:      rgba(255,255,255,0.06);
  --border:        rgba(255,255,255,0.08);
  --border-light:  rgba(255,255,255,0.05);
  --accent:        #00E054;
  --accent-hover:  #00C94A;
  --accent-dim:    rgba(0,224,84,0.12);
  --danger:        #E9495D;
  --text:          #FFFFFF;
  --text-secondary:rgba(255,255,255,0.6);
  --text-muted:    rgba(255,255,255,0.35);
  --star:          #00E054;
  --star-empty:    rgba(255,255,255,0.12);
  --liked:         #FF6B6B;
  --font:          'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --header-h:      56px;
  --mob-nav-h:     58px;
  --radius:        10px;
  --radius-sm:     6px;
}

/* ── Reset ── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{-webkit-text-size-adjust:100%}
body{
  min-height:100vh;
  background:var(--bg);
  font-family:var(--font);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.5;
}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
button{font-family:var(--font);cursor:pointer;border:none;background:none;color:inherit}
img{display:block;max-width:100%}
input,textarea,select{font-family:var(--font)}

/* scrollbar */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.12);border-radius:3px}


/* ═════════════════════
   TOP BAR
   ═════════════════════ */
.top-bar{
  position:fixed;top:0;left:0;right:0;z-index:100;
  height:var(--header-h);
  background:rgba(20,24,28,0.92);
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;
  padding:0 1.25rem;gap:1rem;
}
.top-bar-left{flex-shrink:0}
.logo{
  font-weight:900;font-size:1.15rem;
  letter-spacing:-.03em;color:#fff;cursor:pointer;
  text-transform:lowercase;
}
.top-bar-center{flex:1;display:flex;justify-content:center}
.top-bar-right{flex-shrink:0;display:flex;align-items:center;gap:.75rem}

/* search bar */
.search-bar{
  position:relative;width:100%;max-width:420px;
  background:var(--bg-input);
  border:1px solid var(--border);
  border-radius:8px;
  display:flex;align-items:center;
  padding:0 .7rem;gap:.5rem;
  transition:border-color .2s;
}
.search-bar:focus-within{border-color:var(--accent)}
.search-bar svg{color:var(--text-muted);flex-shrink:0}
.search-bar input{
  background:none;border:none;outline:none;
  color:#fff;font-size:.82rem;width:100%;padding:.5rem 0;
}
.search-bar input::placeholder{color:var(--text-muted)}

/* search dropdown */
.search-dropdown{
  position:absolute;top:calc(100% + 6px);left:0;right:0;
  background:var(--bg-secondary);
  border:1px solid var(--border);
  border-radius:var(--radius);
  overflow:hidden;display:none;z-index:200;
  box-shadow:0 12px 40px rgba(0,0,0,.55);
}
.search-dropdown.open{display:block}
.search-dropdown-item{
  display:flex;align-items:center;gap:.75rem;
  padding:.6rem .85rem;cursor:pointer;
  transition:background .12s;
}
.search-dropdown-item:hover{background:var(--bg-card-hover)}
.search-dropdown-item img{
  width:40px;height:40px;border-radius:4px;
  object-fit:cover;background:var(--bg);flex-shrink:0;
}
.search-dropdown-item .sdi-info{flex:1;min-width:0}
.search-dropdown-item .sdi-name{
  font-size:.8rem;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.search-dropdown-item .sdi-artist{
  font-size:.7rem;color:var(--text-muted);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.search-dropdown-footer{
  padding:.5rem .85rem;font-size:.72rem;
  color:var(--text-muted);text-align:center;
  border-top:1px solid var(--border);cursor:pointer;
}
.search-dropdown-footer:hover{color:var(--accent)}

/* auth / avatar */
.btn-signin{
  background:var(--accent);color:#14181C;
  font-weight:700;font-size:.78rem;
  padding:.45rem 1rem;border-radius:6px;
  transition:background .15s;
}
.btn-signin:hover{background:var(--accent-hover)}
.user-avatar-wrap{cursor:pointer}
.user-avatar-wrap img{
  width:32px;height:32px;border-radius:50%;
  object-fit:cover;border:2px solid var(--accent);
}


/* ═════════════════════
   MAIN CONTENT
   ═════════════════════ */
.main-content{
  padding-top:var(--header-h);
  min-height:100vh;
}
.view-section{display:none}
.view-section.active{display:block}

.page-wrap{
  max-width:960px;margin:0 auto;
  padding:2rem 1.25rem 5rem;
}
.page-title{
  font-size:1.4rem;font-weight:800;
  margin-bottom:.25rem;
}
.page-sub{
  font-size:.82rem;color:var(--text-muted);
  margin-bottom:1.5rem;
}


/* ═════════════════════
   HERO BANNER
   ═════════════════════ */
.hero-banner{
  text-align:center;
  padding:3.5rem 1.25rem 2.5rem;
}
.hero-title{
  font-size:clamp(1.6rem,4vw,2.4rem);
  font-weight:900;letter-spacing:-.03em;
  line-height:1.15;margin-bottom:.5rem;
}
.hero-sub{
  font-size:clamp(.85rem,2vw,1rem);
  color:var(--text-secondary);
  max-width:420px;margin:0 auto;
}

.home-wrap{
  max-width:1060px;margin:0 auto;
  padding:0 1.25rem 5rem;
}
.section{margin-bottom:2.5rem}
.section-title{
  font-size:.65rem;font-weight:700;
  letter-spacing:.18em;text-transform:uppercase;
  color:var(--text-muted);margin-bottom:1rem;
}


/* ═════════════════════
   ALBUM GRID
   ═════════════════════ */
.album-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(140px,1fr));
  gap:.85rem;
}
.album-card{
  position:relative;cursor:pointer;
  border-radius:var(--radius-sm);overflow:hidden;
  transition:transform .15s,box-shadow .15s;
}
.album-card:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 28px rgba(0,0,0,.45);
}
.album-card img{
  width:100%;aspect-ratio:1;object-fit:cover;
  background:var(--bg-secondary);
  border-radius:var(--radius-sm);
}
.album-card-info{
  padding:.45rem .1rem .1rem;
}
.album-card-name{
  font-size:.72rem;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.album-card-artist{
  font-size:.65rem;color:var(--text-muted);
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.album-card-rating{
  margin-top:.2rem;
}


/* ═════════════════════
   STAR RATINGS
   ═════════════════════ */
.stars{display:inline-flex;align-items:center;gap:1px}
.star-svg{color:var(--star-empty)}
.star-svg.filled{color:var(--star)}
.star-svg.half{color:var(--star)}

/* interactive stars */
.stars-interactive{
  display:inline-flex;align-items:center;gap:2px;
  cursor:pointer;user-select:none;
}
.star-interactive{
  position:relative;display:inline-flex;
}
.star-interactive .star-half{
  position:absolute;top:0;height:100%;
  z-index:2;cursor:pointer;
}
.star-interactive .star-half-left{left:0;width:50%}
.star-interactive .star-half-right{right:0;width:50%}
.star-interactive svg{pointer-events:none;display:block}

/* large stars for modal */
.stars-interactive.lg .star-interactive svg{width:28px;height:28px}


/* ═════════════════════
   ALBUM DETAIL
   ═════════════════════ */
.album-detail-wrap{
  max-width:960px;margin:0 auto;
  padding:2rem 1.25rem 5rem;
}
.album-hero{
  display:flex;gap:2rem;
  padding-bottom:2rem;margin-bottom:2rem;
  border-bottom:1px solid var(--border);
}
.album-poster{
  width:240px;flex-shrink:0;
  border-radius:var(--radius);overflow:hidden;
  box-shadow:0 8px 36px rgba(0,0,0,.55);
}
.album-poster img{width:100%;aspect-ratio:1;object-fit:cover}
.album-info{flex:1;min-width:0}
.album-title{
  font-size:1.8rem;font-weight:900;
  line-height:1.12;letter-spacing:-.02em;
  margin-bottom:.2rem;
}
.album-artist{
  font-size:1.05rem;color:var(--text-secondary);
  margin-bottom:.75rem;
}
.album-artist a{color:var(--text-secondary)}
.album-artist a:hover{color:var(--accent)}
.album-meta{
  display:flex;flex-wrap:wrap;gap:.75rem;
  font-size:.72rem;color:var(--text-muted);
  margin-bottom:1.25rem;
}
.album-meta span{display:flex;align-items:center;gap:.3rem}
.album-stats-row{
  display:flex;gap:1.5rem;margin-bottom:1.5rem;
}
.album-stat{text-align:center}
.album-stat-val{font-size:1.4rem;font-weight:800}
.album-stat-lbl{font-size:.6rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.12em}
.album-actions{display:flex;gap:.6rem;flex-wrap:wrap}

.btn-primary{
  background:var(--accent);color:#14181C;
  font-weight:700;font-size:.82rem;
  padding:.55rem 1.1rem;border-radius:8px;
  transition:background .15s;
  display:inline-flex;align-items:center;gap:.4rem;
}
.btn-primary:hover{background:var(--accent-hover)}
.btn-secondary{
  background:var(--bg-input);
  border:1px solid var(--border);
  color:#fff;font-weight:600;font-size:.82rem;
  padding:.55rem 1.1rem;border-radius:8px;
  transition:background .15s,border-color .15s;
  display:inline-flex;align-items:center;gap:.4rem;
}
.btn-secondary:hover{background:var(--bg-card-hover);border-color:rgba(255,255,255,.15)}
.btn-danger{
  background:transparent;border:1px solid var(--danger);
  color:var(--danger);font-weight:600;font-size:.78rem;
  padding:.45rem .9rem;border-radius:8px;
  transition:background .15s;
}
.btn-danger:hover{background:rgba(233,73,93,.12)}
.btn-sm{padding:.35rem .75rem;font-size:.75rem}

/* your log on album detail */
.your-log{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:1.25rem;margin-bottom:2rem;
}
.your-log-header{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:.75rem;
}
.your-log-label{
  font-size:.6rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.18em;
  color:var(--accent);
}
.your-log-rating{display:flex;align-items:center;gap:.5rem}
.your-log-text{
  font-size:.85rem;color:var(--text-secondary);
  line-height:1.65;
}

/* reviews section */
.reviews-section{margin-top:2rem}
.review-card{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:1.1rem;margin-bottom:.65rem;
}
.review-header{
  display:flex;align-items:center;gap:.65rem;
  margin-bottom:.65rem;
}
.review-avatar{
  width:30px;height:30px;border-radius:50%;
  object-fit:cover;flex-shrink:0;
  background:var(--bg-secondary);
}
.review-user{font-weight:600;font-size:.82rem}
.review-meta{
  font-size:.65rem;color:var(--text-muted);
  display:flex;align-items:center;gap:.5rem;
  margin-left:auto;
}
.review-text{
  font-size:.84rem;color:var(--text-secondary);
  line-height:1.65;
}
.liked-badge{
  color:var(--liked);display:inline-flex;align-items:center;
}


/* ═════════════════════
   MODAL
   ═════════════════════ */
.modal-backdrop{
  position:fixed;inset:0;
  background:rgba(0,0,0,.7);z-index:450;
  opacity:0;pointer-events:none;
  transition:opacity .25s;
}
.modal-backdrop.open{opacity:1;pointer-events:all}
.modal{
  position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%) scale(.95);
  background:var(--bg-secondary);
  border:1px solid var(--border);
  border-radius:16px;z-index:460;
  width:92%;max-width:480px;max-height:85vh;
  overflow-y:auto;
  opacity:0;pointer-events:none;
  transition:opacity .25s,transform .25s;
}
.modal.open{opacity:1;pointer-events:all;transform:translate(-50%,-50%) scale(1)}
.modal-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:1rem 1.25rem;
  border-bottom:1px solid var(--border);
}
.modal-title{font-size:1rem;font-weight:700}
.modal-close{
  font-size:1.4rem;color:var(--text-muted);
  cursor:pointer;line-height:1;padding:.25rem;
  transition:color .15s;
}
.modal-close:hover{color:#fff}
.modal-body{padding:1.25rem}

/* modal form elements */
.modal-album-info{
  display:flex;gap:.85rem;align-items:center;
  margin-bottom:1.25rem;
}
.modal-album-art{
  width:64px;height:64px;border-radius:6px;
  object-fit:cover;flex-shrink:0;
}
.modal-album-name{font-weight:700;font-size:.88rem}
.modal-album-artist{font-size:.75rem;color:var(--text-muted)}

.form-group{margin-bottom:1.25rem}
.form-label{
  display:block;font-size:.68rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.14em;
  color:var(--text-muted);margin-bottom:.5rem;
}
.form-input{
  width:100%;background:var(--bg-input);
  border:1px solid var(--border);
  border-radius:8px;color:#fff;
  font-size:.84rem;padding:.55rem .75rem;
  outline:none;transition:border-color .2s;
}
.form-input:focus{border-color:var(--accent)}
textarea.form-input{
  resize:vertical;min-height:100px;line-height:1.6;
}

.modal-rating-row{
  display:flex;align-items:center;gap:1rem;
  margin-bottom:.25rem;
}
.modal-liked-row{
  display:flex;align-items:center;gap:.5rem;
  margin-bottom:1rem;
}
.liked-toggle{
  width:36px;height:36px;
  display:flex;align-items:center;justify-content:center;
  border-radius:50%;border:1px solid var(--border);
  background:var(--bg-input);cursor:pointer;
  transition:background .15s,border-color .15s;
}
.liked-toggle.active{
  background:rgba(255,107,107,.15);
  border-color:var(--liked);
}
.liked-toggle svg{transition:color .15s}

.modal-footer{
  display:flex;gap:.5rem;justify-content:flex-end;
  padding-top:.5rem;
}


/* ═════════════════════
   PROFILE
   ═════════════════════ */
.profile-banner{
  background:linear-gradient(135deg, rgba(0,224,84,.08) 0%, rgba(0,224,84,.02) 100%);
  border:1px solid rgba(0,224,84,.12);
  border-radius:16px;
  padding:2.5rem 2rem 2rem;
  margin-bottom:2rem;
  text-align:center;
}
.profile-banner-inner{
  max-width:480px;
  margin:0 auto;
}
.profile-name-large{
  font-size:1.8rem;
  font-weight:900;
  letter-spacing:-.02em;
  margin-bottom:.35rem;
}
.profile-bio-large{
  font-size:.88rem;
  color:var(--text-secondary);
  line-height:1.5;
  margin-bottom:1.25rem;
}
.profile-stats-bar{
  display:flex;
  justify-content:center;
  gap:.6rem;
  margin-bottom:1.25rem;
  flex-wrap:wrap;
}
.profile-stat-pill{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:10px;
  padding:.55rem 1rem;
  min-width:72px;
  text-align:center;
  transition:border-color .15s;
}
.profile-stat-pill:hover{
  border-color:var(--accent);
}
.profile-stat-pill .profile-stat-val{
  font-weight:800;
  font-size:1.1rem;
  display:block;
  color:#fff;
}
.profile-stat-pill .profile-stat-lbl{
  font-size:.55rem;
  color:var(--text-muted);
  text-transform:uppercase;
  letter-spacing:.14em;
  display:block;
  margin-top:.1rem;
}
.profile-actions-bar{
  display:flex;
  justify-content:center;
  gap:.5rem;
  flex-wrap:wrap;
}

/* favorite albums */
.profile-favs-section{
  margin-bottom:2rem;
}
.favorite-albums-title{
  font-size:.6rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.18em;
  color:var(--text-muted);margin-bottom:.65rem;
}
.profile-favs-grid{
  display:grid;grid-template-columns:repeat(4,1fr);
  gap:.5rem;
}
.profile-favs-grid img{
  width:100%;aspect-ratio:1;object-fit:cover;
  border-radius:6px;background:var(--bg-secondary);
  transition:transform .15s, box-shadow .15s;
}
.profile-favs-grid img:hover{
  transform:scale(1.04);
  box-shadow:0 4px 16px rgba(0,0,0,.4);
}
.fav-placeholder{
  width:100%;aspect-ratio:1;
  background:var(--bg-card);border:1px dashed var(--border);
  border-radius:6px;
  display:flex;align-items:center;justify-content:center;
  font-size:1.2rem;color:var(--text-muted);
  transition:border-color .15s;
  cursor:pointer;
}
.fav-placeholder:hover{
  border-color:var(--accent);
  color:var(--accent);
}

/* profile tabs */
.profile-tabs{
  display:flex;gap:0;
  border-bottom:1px solid var(--border);
  margin-bottom:1.5rem;
}
.profile-tab{
  padding:.65rem 1.2rem;
  font-size:.78rem;font-weight:600;
  color:var(--text-muted);cursor:pointer;
  border-bottom:2px solid transparent;
  transition:color .15s,border-color .15s;
}
.profile-tab:hover{color:var(--text-secondary)}
.profile-tab.active{color:#fff;border-bottom-color:var(--accent)}
.profile-tab-content{display:none}
.profile-tab-content.active{display:block}

/* diary entries */
.diary-entry{
  display:flex;align-items:center;gap:.85rem;
  padding:.75rem 0;
  border-bottom:1px solid var(--border-light);
}
.diary-art{
  width:44px;height:44px;border-radius:4px;
  object-fit:cover;flex-shrink:0;cursor:pointer;
  background:var(--bg-secondary);
}
.diary-info{flex:1;min-width:0}
.diary-name{
  font-size:.82rem;font-weight:600;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  cursor:pointer;
}
.diary-name:hover{color:var(--accent)}
.diary-artist{font-size:.7rem;color:var(--text-muted)}
.diary-rating{flex-shrink:0}


/* ═════════════════════
   LISTS
   ═════════════════════ */
.lists-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:1rem;
}
.list-card{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:1rem;cursor:pointer;
  transition:background .15s,border-color .15s;
}
.list-card:hover{background:var(--bg-card-hover);border-color:rgba(255,255,255,.12)}
.list-card-thumbs{
  display:grid;grid-template-columns:repeat(4,1fr);
  gap:4px;margin-bottom:.75rem;
}
.list-card-thumbs img{
  width:100%;aspect-ratio:1;object-fit:cover;
  border-radius:3px;background:var(--bg-secondary);
}
.list-card-title{font-weight:700;font-size:.88rem;margin-bottom:.15rem}
.list-card-meta{font-size:.68rem;color:var(--text-muted)}

/* list detail */
.list-header{margin-bottom:1.5rem}
.list-title{font-size:1.5rem;font-weight:900;margin-bottom:.25rem}
.list-desc{font-size:.85rem;color:var(--text-secondary);margin-bottom:1rem}
.list-albums{counter-reset:list-rank}
.list-album-item{
  display:flex;align-items:center;gap:1rem;
  padding:.85rem 0;
  border-bottom:1px solid var(--border-light);
  counter-increment:list-rank;
}
.list-rank{
  font-size:1.1rem;font-weight:800;
  color:var(--text-muted);width:28px;
  flex-shrink:0;text-align:center;
}
.list-rank::before{content:counter(list-rank)}
.list-album-art{
  width:52px;height:52px;border-radius:4px;
  object-fit:cover;flex-shrink:0;cursor:pointer;
  background:var(--bg-secondary);
}
.list-album-info{flex:1;min-width:0}
.list-album-name{
  font-size:.85rem;font-weight:600;cursor:pointer;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.list-album-name:hover{color:var(--accent)}
.list-album-artist{font-size:.72rem;color:var(--text-muted)}

/* list editor */
.list-edit-search{
  position:relative;margin-bottom:1rem;
}
.list-edit-search input{
  width:100%;background:var(--bg-input);
  border:1px solid var(--border);border-radius:8px;
  color:#fff;font-size:.84rem;padding:.55rem .75rem;
  outline:none;
}
.list-edit-search input:focus{border-color:var(--accent)}
.list-edit-results{
  position:absolute;top:calc(100% + 4px);left:0;right:0;
  background:var(--bg-secondary);
  border:1px solid var(--border);border-radius:var(--radius);
  z-index:50;display:none;max-height:240px;overflow-y:auto;
  box-shadow:0 8px 24px rgba(0,0,0,.5);
}
.list-edit-results.open{display:block}
.list-edit-item{
  display:flex;align-items:center;gap:.85rem;
  padding:.6rem .75rem;
  border-bottom:1px solid var(--border-light);
}
.list-edit-item .move-btns{
  display:flex;flex-direction:column;gap:2px;
  flex-shrink:0;
}
.list-edit-item .move-btn{
  width:24px;height:18px;
  display:flex;align-items:center;justify-content:center;
  font-size:.65rem;color:var(--text-muted);
  background:var(--bg-input);border:1px solid var(--border);
  border-radius:3px;cursor:pointer;
}
.list-edit-item .move-btn:hover{color:#fff;border-color:rgba(255,255,255,.2)}
.list-edit-item .remove-btn{
  color:var(--text-muted);cursor:pointer;font-size:.9rem;
  flex-shrink:0;padding:.25rem;
}
.list-edit-item .remove-btn:hover{color:var(--danger)}


/* ═════════════════════
   STATS
   ═════════════════════ */
.stats-summary{
  display:grid;grid-template-columns:repeat(4,1fr);
  gap:.75rem;margin-bottom:2rem;
}
.stat-card{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:1rem;text-align:center;
}
.stat-card-val{font-size:1.6rem;font-weight:900;color:var(--accent)}
.stat-card-lbl{
  font-size:.58rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.14em;
  color:var(--text-muted);margin-top:.2rem;
}
.stats-chart{
  background:var(--bg-card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:1.25rem;margin-bottom:1.25rem;
}
.stats-chart-title{
  font-size:.6rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.18em;
  color:var(--text-muted);margin-bottom:1rem;
}
/* bar charts */
.bar-chart{display:flex;align-items:flex-end;gap:4px;height:120px}
.bar-col{
  flex:1;display:flex;flex-direction:column;
  align-items:center;justify-content:flex-end;
  height:100%;
}
.bar-fill{
  width:100%;background:var(--accent);
  border-radius:3px 3px 0 0;
  min-height:2px;transition:height .3s;
}
.bar-label{
  font-size:.55rem;color:var(--text-muted);
  margin-top:.35rem;
}
/* horizontal bars */
.h-bar-row{
  display:flex;align-items:center;gap:.75rem;
  margin-bottom:.6rem;
}
.h-bar-label{
  font-size:.72rem;color:var(--text-secondary);
  width:80px;flex-shrink:0;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.h-bar-track{
  flex:1;height:8px;background:var(--bg-input);
  border-radius:4px;overflow:hidden;
}
.h-bar-fill{
  height:100%;background:var(--accent);
  border-radius:4px;transition:width .3s;
}
.h-bar-val{
  font-size:.68rem;font-weight:700;color:var(--text-secondary);
  width:30px;text-align:right;flex-shrink:0;
}

/* rating distribution */
.rating-dist{display:flex;flex-direction:column;gap:.35rem}
.rating-dist-row{
  display:flex;align-items:center;gap:.5rem;
}
.rating-dist-label{
  font-size:.7rem;color:var(--text-muted);
  width:32px;text-align:right;flex-shrink:0;
}
.rating-dist-bar{
  flex:1;height:6px;background:var(--bg-input);
  border-radius:3px;overflow:hidden;
}
.rating-dist-fill{
  height:100%;background:var(--accent);
  border-radius:3px;
}
.rating-dist-count{
  font-size:.65rem;color:var(--text-muted);
  width:24px;flex-shrink:0;
}


/* ═════════════════════
   ACTIVITY FEED
   ═════════════════════ */
.activity-card{
  display:flex;gap:.85rem;
  padding:.85rem 0;
  border-bottom:1px solid var(--border-light);
}
.activity-avatar{
  width:36px;height:36px;border-radius:50%;
  object-fit:cover;flex-shrink:0;cursor:pointer;
  background:var(--bg-secondary);
}
.activity-body{flex:1;min-width:0}
.activity-text{font-size:.82rem;line-height:1.5}
.activity-text strong{font-weight:600}
.activity-album{
  display:flex;gap:.65rem;align-items:center;
  margin-top:.5rem;cursor:pointer;
  padding:.5rem;background:var(--bg-card);
  border-radius:var(--radius-sm);
}
.activity-album img{
  width:44px;height:44px;border-radius:4px;
  object-fit:cover;flex-shrink:0;
}
.activity-album-name{font-size:.78rem;font-weight:600}
.activity-album-artist{font-size:.68rem;color:var(--text-muted)}
.activity-time{font-size:.65rem;color:var(--text-muted);margin-top:.35rem}


/* ═════════════════════
   SETTINGS
   ═════════════════════ */
.settings-section{margin-bottom:2rem}
.settings-section-title{
  font-size:.6rem;font-weight:700;
  text-transform:uppercase;letter-spacing:.18em;
  color:var(--text-muted);
  margin-bottom:1rem;
  padding-bottom:.5rem;
  border-bottom:1px solid var(--border);
}


/* ═════════════════════
   EMPTY STATES
   ═════════════════════ */
.empty-state{
  text-align:center;
  padding:3rem 1rem;
  color:var(--text-muted);
}
.empty-state p{font-size:.88rem;margin-bottom:.75rem}

/* loading */
.loading-spinner{
  display:flex;align-items:center;justify-content:center;
  padding:3rem;
}
.spinner{
  width:28px;height:28px;
  border:3px solid var(--border);
  border-top-color:var(--accent);
  border-radius:50%;
  animation:spin .7s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}


/* ═════════════════════
   MOBILE BOTTOM NAV
   ═════════════════════ */
.mob-nav{
  position:fixed;bottom:0;left:0;right:0;
  height:var(--mob-nav-h);
  background:rgba(20,24,28,0.95);
  backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);
  border-top:1px solid var(--border);
  display:none;
  grid-template-columns:repeat(4,1fr);
  z-index:100;
  padding-bottom:env(safe-area-inset-bottom,0);
}
.mob-nav-item{
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;gap:2px;
  color:var(--text-muted);
  transition:color .15s;font-size:.6rem;
}
.mob-nav-item.active{color:var(--accent)}
.mob-nav-item svg{transition:color .15s}


/* ═════════════════════
   RESPONSIVE
   ═════════════════════ */
@media(max-width:768px){
  .mob-nav{display:grid}
  body{padding-bottom:calc(var(--mob-nav-h) + env(safe-area-inset-bottom,0px))}
  .top-bar{padding:0 .75rem}
  .album-grid{grid-template-columns:repeat(auto-fill,minmax(115px,1fr));gap:.6rem}
  .album-hero{flex-direction:column;gap:1.25rem}
  .album-poster{width:180px;margin:0 auto}
  .album-info{text-align:center}
  .album-actions{justify-content:center}
  .album-stats-row{justify-content:center}
  .profile-banner{padding:1.75rem 1.25rem 1.5rem}
  .profile-name-large{font-size:1.4rem}
  .profile-stat-pill{min-width:60px;padding:.45rem .7rem}
  .profile-favs-grid{gap:.4rem}
  .stats-summary{grid-template-columns:repeat(2,1fr)}
  .hero-banner{padding:2.5rem 1rem 1.5rem}
}
@media(max-width:480px){
  .album-grid{grid-template-columns:repeat(3,1fr);gap:.45rem}
  .album-detail-wrap,.page-wrap{padding:1.25rem .85rem 4rem}
  .search-bar{max-width:none}
}
